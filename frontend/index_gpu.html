<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<title>Lightroom-style Editor â€” WebGL + HTML controls</title>
<meta name="viewport" content="width=device-width,initial-scale=1" />
<link rel="stylesheet" href="/static/css/layers.css">
<link rel="stylesheet" href="/static/css/main.css">

</head>
<body>
  <main>
    <h2>Lightroom-like editor (WebGL)</h2>

    <div class="card" id="topToolbar" style="display:flex; gap:12px; align-items:center">
       <input 
          id="fileInput" 
          type="file" 
          multiple accept=".jpg,.jpeg,.png,.webp,.gif,.bmp,.avif,.cr2,.nef,.arw,.dng,.orf,.raf,.rw2"
        >

      <div id="status" style="font-size:12px;color:var(--muted);margin-top:6px">No image loaded</div>
      <div id="eraserCursor"></div>
      <input type="range" id="radiusSlider" min="5" max="100" value="20">
    <input type="range" id="powerSlider" min="0" max="1" step="0.01" value="1">

      <button id="eraserBtn">ðŸ§½ Eraser</button>
    </div>


    <div class="card-img" style= "overflow:hidden;">
      <canvas id="glcanvas" width="800" height="600" style="display:block;"></canvas>
    </div>

    <!-- Gallery strip -->
    <div id="gallery" style="display:flex; overflow-x:auto; gap:8px; margin-top:12px;"></div>

  </main>

  <aside>
    <div id="controls">
      <!-- Basic panel -->
      <div class="card">
        <h3>Basic</h3>

        <div class="card">
          <label>Zoom: <span id="zoomVal">100%</span></label>
          <input id="zoomSlider" type="range" min="10" max="300" value="100">
        </div>

        <div class="row">
          <label for="temp">Temperature</label>
          <input id="temp" type="range" min="-2" max="2" step="0.1" value="0">
          <div class="value" id="tempVal">0</div>
        </div>

        <div class="row">
          <label for="tint">Tint</label>
          <input id="tint" type="range" min="-100" max="100" step="1" value="0">
          <div class="value" id="tintVal">0</div>
        </div>

        <div class="row">
          <label for="exposure">Exposure (stops)</label>
          <input id="exposure" type="range" min="-2" max="2" step="0.01" value="0">
          <div class="value" id="exposureVal">0.00</div>
        </div>

        <div class="row">
          <label for="contrast">Contrast</label>
          <input id="contrast" type="range" min="-1" max="1" step="0.01" value="0">
          <div class="value" id="contrastVal">0.00</div>
        </div>

        <div class="row">
          <label for="highlights">Highlights</label>
          <input id="highlights" type="range" min="-1" max="1" step="0.01" value="0">
          <div class="value" id="highlightsVal">0.00</div>
        </div>

        <div class="row">
          <label for="shadows">Shadows</label>
          <input id="shadows" type="range" min="-1" max="1" step="0.01" value="0">
          <div class="value" id="shadowsVal">0.00</div>
        </div>

        <div class="row">
          <label for="whites">Whites</label>
          <input id="whites" type="range" min="-1" max="1" step="0.01" value="0">
          <div class="value" id="whitesVal">0.00</div>
        </div>

        <div class="row">
          <label for="blacks">Blacks</label>
          <input id="blacks" type="range" min="-1" max="1" step="0.01" value="0">
          <div class="value" id="blacksVal">0.00</div>
        </div>
      </div>

      <!-- Curve -->
      <div class="card">
        <h3>Tone Curve (3-pt)</h3>
        <div class="row">
          <label for="curveShadow">Curve Shadow</label>
          <input id="curveShadow" type="range" min="0" max="1" step="0.01" value="0">
          <div class="value" id="curveShadowVal">0.00</div>
        </div>
        <div class="row">
          <label for="curveMid">Curve Mid</label>
          <input id="curveMid" type="range" min="0" max="1" step="0.01" value="0.5">
          <div class="value" id="curveMidVal">0.50</div>
        </div>
        <div class="row">
          <label for="curveHighlight">Curve Highlight</label>
          <input id="curveHighlight" type="range" min="0" max="1" step="0.01" value="1">
          <div class="value" id="curveHighlightVal">1.00</div>
        </div>
      </div>

      <!-- HSL -->
      <div class="card">
        <h3>HSL Bands</h3>
        <div style="display:flex;gap:6px;flex-wrap:wrap;margin-bottom:8px">
          <button onclick="showHSL('Red')">Red</button>
          <button onclick="showHSL('Orange')">Orange</button>
          <button onclick="showHSL('Yellow')">Yellow</button>
          <button onclick="showHSL('Green')">Green</button>
          <button onclick="showHSL('Aqua')">Aqua</button>
          <button onclick="showHSL('Blue')">Blue</button>
          <button onclick="showHSL('Purple')">Purple</button>
          <button onclick="showHSL('Magenta')">Magenta</button>
        </div>
        <div id="hslContainer"></div>
      </div>

      <!-- Calibration -->
      <div class="card">
        <h3>Calibration</h3>

        <div class="row">
          <label for="shadowHue">Shadow Hue</label>
          <input id="shadowHue" type="range" min="-180" max="180" step="1" value="0">
          <div class="value" id="shadowHueVal">0</div>
        </div>
        <div class="row">
          <label for="shadowTint">Shadow Tint</label>
          <input id="shadowTint" type="range" min="0" max="2" step="0.01" value="1">
          <div class="value" id="shadowTintVal">1.00</div>
        </div>

        <div style="margin-top:6px;font-size:12px;color:var(--muted)">Primaries</div>

        <div class="row">
          <label for="redHue">Red Hue</label>
          <input id="redHue" type="range" min="-30" max="30" step="0.5" value="0">
          <div class="value" id="redHueVal">0</div>
        </div>
        <div class="row">
          <label for="redSat">Red Sat</label>
          <input id="redSat" type="range" min="0" max="2" step="0.01" value="1">
          <div class="value" id="redSatVal">1.00</div>
        </div>

        <div class="row">
          <label for="greenHue">Green Hue</label>
          <input id="greenHue" type="range" min="-30" max="30" step="0.5" value="0">
          <div class="value" id="greenHueVal">0</div>
        </div>
        <div class="row">
          <label for="greenSat">Green Sat</label>
          <input id="greenSat" type="range" min="0" max="2" step="0.01" value="1">
          <div class="value" id="greenSatVal">1.00</div>
        </div>

        <div class="row">
          <label for="blueHue">Blue Hue</label>
          <input id="blueHue" type="range" min="-30" max="30" step="0.5" value="0">
          <div class="value" id="blueHueVal">0</div>
        </div>
        <div class="row">
          <label for="blueSat">Blue Sat</label>
          <input id="blueSat" type="range" min="0" max="2" step="0.01" value="1">
          <div class="value" id="blueSatVal">1.00</div>
        </div>
      </div>

      <!-- Add Layer -->

      <div class="card">
        <h3>Layers</h3>
        <div id="layerPanel" class="layer-panel"></div>
        <button id="addLayerBtn">+ Add Layer</button>
      </div>





      <!-- Save -->
      <div class="card">
        <div class="card">
          <input id="filenameInput" type="text" placeholder="Enter filename" />
          <select id="fileTypeSelect">
            <option value="png">PNG (.png)</option>
            <option value="jpeg">JPEG (.jpeg)</option>
            <option value="webp">WebP (.webp)</option>
          </select>
          <button id="saveBtn">Save Image</button>
          <div id="saveStatus" style="font-size:12px;color:var(--muted);margin-top:6px">
            Ready
          </div>
        </div>
      </div>


    </div>
  </aside>



<script src="/static/js/basic.js"></script>
<script src="/static/js/layers.js"></script>
<script src="/static/js/shader.js"></script>
<script src="/static/js/uniforms.js"></script>
<script src="/static/js/texture.js"></script>
<script src="/static/js/draw.js"></script>

<script src="/static/js/earaser.js"></script>

<script src="/static/js/zoom.js"></script>
<script src="/static/js/ui_helpers.js"></script>
<script src="/static/js/save.js"></script>

</body>
</html>
